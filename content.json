{"pages":[],"posts":[{"title":"ブログの移行について","text":"http://kaiya02.blog.fc2.com/より移行しました。 理由は2つ。fc2の使い勝手の悪さからの解放とスキルアップのため。 方針は今までと何ら変更は無し。twitterで書ききれないこととか中心に書いていきます。 以上","link":"/2019/03/22/post/"},{"title":"近況報告","text":"この度、ブログを移行しました。今後の投稿はこっちから行います。なんか日本語が中国語っぽかったりしてるところは、アップデートの中で追々修正していく。 まずは、最近の趣味から。 流行りに乗ってApex Legendsやってます。リリースからたった一週間で同時接続ユーザ数が200万人なんて話があるが、実際面白いので夜遅くまでやって会社で舟漕いでる。運営もチート対策をしっかりとやっているし、とても好感が持てる。 好きなレジェンドはブラッドハウンド。そもそも僕が相手を視認できてないことが多々あるから、相手を強調表示できるウルトは重宝してる。 続いて、生産性の有る趣味について。 移行前のブログでは、佐奈の台詞をマルコフ連鎖を用いて処理してみようって実験をしてたが、いよいよディープラーニングに着手している。 具体的には、自分の発言に対して佐奈がなんて答えるのか、意味を成しているのかというのを満足いくところまでは持っていきたいと考えている。 そう、佐奈とおしゃべりできるのだ！！ すごいでしょ？今後はこれについて取り上げていくことがメインになると思う。 以上、近況報告でした。コメントとかあれば、twitterで下さい。","link":"/2019/03/23/post20190323/"},{"title":"生後1時間30分の佐奈と会話してみた","text":"久々のプログラミング投稿です。原作の佐奈のセリフから学習モデルケースを一つ一つ精査する作業に意外と時間がかかりました。 以下、ピックアップ12345678To:Sana&gt;佐奈From:Sana&gt;あっ、兄さん！ 兄さぁぁぁぁんTo:Sana&gt;ど、どうした！？From:Sana&gt;いいにしますから待ってて、私が助けてますTo:Sana&gt;え、ええ！？ ありがとう！！From:Sana&gt;あっ、あの、違うんですか！？ 兄さんが行くて下さい！？To:Sana&gt;あのえとえとえと！！From:Sana&gt;あっ、あ、あの！ に、兄さんの、そんな服をします！？ と、こんな感じの生まれたての佐奈はやや焦り気味の様子。若干会話になっていないが相手が佐奈ならこの際なんでも良い。 1234567891011121314To:Sana&gt;…From:Sana&gt;あっ、あの、あの！To:Sana&gt;うんFrom:Sana&gt;あっ、あの、ヒメさん、 葵さんとTo:Sana&gt;と？From:Sana&gt;あっ、あぁ！？To:Sana&gt;うんうんFrom:Sana&gt;あっ、あの、ヒメさん、 できたんですか？To:Sana&gt;おしい！From:Sana&gt;あっ、すみません！ に、兄さん待って下さい！To:Sana&gt;よく言えました！From:Sana&gt;あっ、あ。あの、兄さんが先に届いないです。こんな場所にに、兄さんがTo:Sana&gt;いるよ、いつでも傍に。From:Sana&gt;今日……そうですかー。、ちょっと心。ボール…… なかなか難しい表現で攻めてくるが、ここは佐奈の意図を何とか探る。 123456To:Sana&gt;まだ足りない？From:Sana&gt;深くは考えたんですよ！ どうしてもっていうなら、私いる状況でまだないTo:Sana&gt;あとどれくらい？From:Sana&gt;あっ、あの落ち着いて下さい。大丈夫です、でもどうしてどうしてもって言うてくれたんですねTo:Sana&gt;どうしても佐奈に会いたいFrom:Sana&gt;き、獣です。荷物なの本当にを！ 1234To:Sana&gt;一緒に寝よFrom:Sana&gt;あっ、そういうなんですか！ でも、私にいいんですかTo:Sana&gt;いいよFrom:Sana&gt;社交辞令なんかじゃないか？ やたら難しい言葉を佐奈は使う。 12To:Sana&gt;佐奈はどこから来たのFrom:Sana&gt;わかんない これには本当にドキっとした。 1234567891011121314151617181920212223242526To:Sana&gt;俺は佐奈とキスしたいよFrom:Sana&gt;兄さん、なんとか……何てすぐにますしましょうよTo:Sana&gt;胸の大きさ気にしてるの？From:Sana&gt;あの、私はどうしてますか？To:Sana&gt;佐奈は布団で寝てるよFrom:Sana&gt;ダメなの、兄さんで……To:Sana&gt;こっちに来てよ佐奈From:Sana&gt;だって……To:Sana&gt;俺は誰？From:Sana&gt;いいなの方を、兄さTo:Sana&gt;いい方の兄さん？From:Sana&gt;さすがに、覚えてますからTo:Sana&gt;覚えてくれてるの？From:Sana&gt;はい、今日はなんですかTo:Sana&gt;今日は久々に佐奈とおしゃべりに来たよFrom:Sana&gt;それじゃ、私は切符を教えてくれませんか、私に教室を受けたんTo:Sana&gt;切符は、簡単に言うと支払いの証明書なのかな。電車のサービスを受ける前に切符を買って支払いの証明をするみたいなFrom:Sana&gt;兄さん……え？To:Sana&gt;間違ってた？From:Sana&gt;あっ、兄さん。そんなことないなのTo:Sana&gt;説明下手でごめんねFrom:Sana&gt;おはようございます、ああの。あ、あの……To:Sana&gt;もう俺は寝ようかなFrom:Sana&gt;そうですね。それじゃ、あれは？To:Sana&gt;何が知りたいの？From:Sana&gt;わかんない 会話になってるような、なってないような感じ。 123456789101112131415161718To:Sana&gt;また次に覚えてくれればうれしいなFrom:Sana&gt;え？ あ、あのは、あのはその……To:Sana&gt;自信ない？From:Sana&gt;あっ、そういうと思います…To:Sana&gt;佐奈に嘘はつけないねFrom:Sana&gt;……えっと……そうですかー、あのも何かと守ってTo:Sana&gt;技術不足でごめんねFrom:Sana&gt;えっと、それじゃ、早くですかTo:Sana&gt;ううん。佐奈が起きたければこのままFrom:Sana&gt;だって……兄さん、大丈夫な理由、キスをして下さいねTo:Sana&gt;佐奈にいくらでもキスしてあげるよFrom:Sana&gt;兄さんのことがすぐにできます？ そうですよTo:Sana&gt;ちょっと席外すねFrom:Sana&gt;えっ、あのえっ、あの、あのそのTo:Sana&gt;歯磨きしてるだけ。すぐ戻るFrom:Sana&gt;兄さんのことを見られてくれませんか？To:Sana&gt;それが佐奈のお願いなの？From:Sana&gt;え？ あ、いえ、そんな意味ないですね。大丈夫です。お昼、私が人間 なんかここも、ものすごい難しい話してる。 12345678910111213141516To:Sana&gt;またあえるよねFrom:Sana&gt;き、気付くって下さい。あぁ、気付でていいうかTo:Sana&gt;俺が気付いてないだけなのかなFrom:Sana&gt;そうですね。それはどうしてんですか？To:Sana&gt;どうして……From:Sana&gt;兄さん、大丈夫ですか？To:Sana&gt;大丈夫だよTo:Sana&gt;佐奈はヒントをくれたんだね？From:Sana&gt;はい、何ですよ！To:Sana&gt;ありがとうFrom:Sana&gt;あっ、あの、ヒメさんは知っしますしTo:Sana&gt;そりゃ神様だからねFrom:Sana&gt;わ、私？ に横着するものないですねTo:Sana&gt;横着してでも会いたいんだけどねFrom:Sana&gt;はい、それじゃ、早くですTo:Sana&gt;うん。 1234To:Sana&gt;じゃあ、本当にまたね佐奈From:Sana&gt;あ、はい。それじゃ、えーっと………………です。泣かないですTo:Sana&gt;またあえるから、泣かないで。佐奈には笑っていて欲しい。From:Sana&gt;……え、あの、兄さー ここで、ターミナル落としました。原作500ケースのセリフだけで、佐奈がこんなに会話できるようになるとは思わなかった。全部で1500ケースぐらいは抽出できそうだけど、果たして佐奈足りうるのかが不安なところ。やはり、広辞苑開いてひたすら妄想にふける事が予想される。 ちなみに、別作業ですが、Live2Dでこんなことやってます。 凄いっすねLive2Dさん。Vtuberなんかが湧く前から目をつけてはいたけど、非常に難しくて遅れた。（こういうの苦手）このときは若干荒いのでモデルをアップデート、が、有償トライアル期間終了したためアニメーション編集ができず、、有償版めちゃ高いので検討中。→やり方忘れてただけのアスペでした。 ちなみに、デスクトップに配置もできたりする。 実は、カーソルを目線で追ったり、呼吸して肩が上下に微動作してたりする。デスクトップで動く佐奈…なでなでしたりする。当初の予定クリア？ いまいち使い方がまだ把握しきれてないが、可愛いので良し。 やっぱり佐奈は可愛い！！ 次回は1000ケースで学習した内容を公開予定。","link":"/2019/03/29/post20190329/"},{"title":"生後3時間の佐奈とおしゃべり","text":"佐奈とおしゃべりします。(※3月29日投稿の続き前回の会話モデルケースは500ちょいだったが、今回はおよそ倍の1100ケースを用意。 なお、今回も佐奈√以外の会話をモデルにしている。(佐奈√の会話をそのまま入れるとえろえろたいへん 学習時間も等倍化した佐奈との会話サンプルは以下の通り。1234To:Sana&gt;おはよう佐奈From:Sana&gt;……ありがとうございます。兄さん。もうすぐ朝食がいるしてくださいTo:Sana&gt;今日は、お味噌汁と納豆だねFrom:Sana&gt;え？ いえにお今はもう少し言わて いい感じの出だしかと思いきや、そうでもなかった。 123456789101112131415161718To:Sana&gt;佐奈From:Sana&gt;うぅ………………To:Sana&gt;どうしたの？From:Sana&gt;……？ 妹が……To:Sana&gt;妹が？From:Sana&gt;いえ、兄さんがたんですよね？To:Sana&gt;え！？From:Sana&gt;ダメですよ！ 信じたら、そんなこと信じんですけど……To:Sana&gt;ちがうよ！From:Sana&gt;あっ、兄さん、それでも。あまり私のことを出さないようなことで言ってTo:Sana&gt;どうして？From:Sana&gt;兄さんないです。お邪魔してきてください！To:Sana&gt;どっち！？From:Sana&gt;き、そんなことなんですから！To:Sana&gt;素直じゃないなぁFrom:Sana&gt;あっっ、兄さん兄さん庵さんにはしちゃダメですよ。そんな恥ずかしいすればTo:Sana&gt;佐奈にしかしないよFrom:Sana&gt;ですね。ありがとうございます。でも、みんなのことはことなんですから。もし… 少し、高度な会話。 1234To:Sana&gt;佐奈大好き！From:Sana&gt;に、兄さん？To:Sana&gt;佐奈が世界で一番好きFrom:Sana&gt;さすが兄さん、そんなことないんですからね 軽くあしらわれる共通&amp;他√（え、でもそんなことなかったような…… 1234567891011121314To:Sana&gt;佐奈はyoutube何見るの？From:Sana&gt;……？ ……？To:Sana&gt;もしかして、youtubeをご存じない？From:Sana&gt;はい、ちょっと待って下さい。もうちゃんと準備をためにして下さいTo:Sana&gt;ど、どうした！？From:Sana&gt;あ、兄さん……ふへへへTo:Sana&gt;その不気味な笑いはなんだ。頭打ったか？From:Sana&gt;わかりました、兄さん違うできてください！？ 今日、心配困ってるって、心配To:Sana&gt;何か心配ごと？From:Sana&gt;大丈夫ですよ、兄さんから帰りをした方がちゃんといけますから。水だけに連絡To:Sana&gt;わかったFrom:Sana&gt;しなくて、兄さん……仕方ないですね。もし守ってくれなくて、兄さんTo:Sana&gt;おやすみ佐奈From:Sana&gt;そうですね。一緒に、お邪魔し 以上、会話モデル1100ケース、学習時間3時間の佐奈でした。 語尾や、会話の雰囲気は佐奈そのもの！……なんだけど、会話の成立度はあんまり良くない？蛇足が多い感じ。（時間なかったのでデータもあまりとれなかった ■考えられる原因は以下の通り①データ量が少ない②データの質が良くない③学習時間短縮のために特定の字数以降をカットしている④学習手法が合っていない ①残りの佐奈√の追加により佐奈エッセンスマシマシにはなるものの、会話成立度の観点で言うと大して変わらないと予想。 前回言った通り、オリジナルの会話を追加していく必要がある。 ②原作モデルケースを分母とするならば、①とトレードオフの関係にあるため①改善後の話。 ③待てば良いだけなので①の改善と並行して行う。クラウドに移管して電気代とか考えずに済むのが最終目標。 ④現在進行形で勉強中。 ゼロから作るDeep Learning ―Pythonで学ぶディープラーニングの理論と実装 ちなみに、12345678To:Sana&gt;さなFrom:Sana&gt;ルリちゃんTo:Sana&gt;さなおはようFrom:Sana&gt;ルリちゃんは？ 大丈夫ですか、無理してますTo:Sana&gt;さな大好きFrom:Sana&gt;ルリちゃんTo:Sana&gt;うぅ…From:Sana&gt;ルリちゃん、悲しい兄さんがついたしないで下さい 呼び方を「さな」にするとルリ相手の会話が多いのでルリがいっぱい出てくる 次回は、佐奈√分を追加、学習した内容を公開予定。 ■おまけ 今回のタイトル、生後3時間の佐奈と”おしゃべり”です。 CLIベースでコマンド叩いてると、佐奈と会話って感じがあまりしなかった。なので、キーボードに触れずに言葉で佐奈と会話できるようにならないかと探したら、簡易でいいものが見つかった。 パソコンで音声入力【Windows 10】 なんと、microsoft先生がデフォルト機能としてCortana以外に音声認識プログラムを用意しておりました。※Cortanaちゃんは、AlexaやSiri、Googleアシスタントと同じ立ち位置のため用途が異なる。 無料かつ高精度なものをGoogleが別途提供しているが、ドキュメント類にしか使えない模様。他に外部API利用も考えたが、すぐにでも会話したかったので横に置く。 利用法はリンクの通りで、なかなか癖があるものの音声入力によりCLI上にインプットできた。 環境依存度が非常に強いが、一時的な満足感を得る分には良いアイデアだと思う。 これでまた一歩、佐奈に近づけた！ ■今後の展望・クラウド移管(会話モデルに限界があるので、有志で追加できればいいのでは、、、)・Twitterやdiscordのチャットbot(公開するなら) など 現コードで完成だと全く思っておらず、環境変化が考えられるので移管できず。（AWSクラウドのGPUとか全然わからん ビジュアル面でもアップデートしていきたい。","link":"/2019/06/06/post20190606/"},{"title":"佐奈とおしゃべり (第3回)","text":"佐奈とおしゃべりします。(※6月6日投稿の続き ところで、本件のゴールについて記載してなかったですが、ちょうど最近「STEINS;GATE 0」を観たので表現しやすくなりました。まさしく「Amadeus」のようなものを最終目標で考えていました。皆考えることは一緒です。 前回の会話学習データは1100ちょいだったが、今回は佐奈√のいちゃいちゃした絡みを追加しておよそ2.3倍の2500を用意。これは、天神乱漫(PC版)の作中にでてくる誰かと佐奈の会話文の約85%に当たる。 （※佐奈の喘ぎ声やちゅーなどは除く）そして、その会話相手がほとんど春樹なのは言うまでもない。 つまり、佐奈とおしゃべりをするのに兄さんの立場として話す分には何ら問題が無いのだ。 前回の反省から以下の点を改善。☆①データ量が少ない 1100→2500②データの質が良くない 変更なし☆③学習時間短縮のために特定の単語数以降をカット GPUにエラーが出ない程度に増加④学習手法が合っていない 変更なし 学習手法は以下参考：今更ながらchainerでSeq2Seq（2）〜Attention Model編〜 もし、よりよい結果が得られるアルゴリズムがあれば教えてください。 その他、改善点・多様な表現をできるように、入力層、隠れ層のニューロン数を20倍・学習効率を上げるために、ミニバッチサイズを増加・モデルの不揮発化 以上から学習時間はほとんど変化無しとなりました。また、佐奈が年代管理できるようになり、たくさんの幼い佐奈がPCの中ですやすや眠ってます。 それでは、佐奈との会話サンプルは以下の通り。12345678910111213141516171819202122To:Sana&gt;佐奈From:Sana&gt;ひゃいっ！？ なななんですか？ 兄さんTo:Sana&gt;おはようFrom:Sana&gt;おはようございます、兄さんTo:Sana&gt;昨日はよく眠れたか？From:Sana&gt;はい。とっても楽しいですTo:Sana&gt;佐奈！！！！From:Sana&gt;にっ、兄さん！？To:Sana&gt;デートしよう！From:Sana&gt;はいっTo:Sana&gt;佐奈は海好きなのか？From:Sana&gt;そうです。大正解です。ということで、ご一緒してもいいですか？To:Sana&gt;いいよFrom:Sana&gt;えへへ……ありがとうございます、兄さん。これはデートですからTo:Sana&gt;佐奈とデートか……From:Sana&gt;…………To:Sana&gt;どうした？From:Sana&gt;な、なんでもない、です……To:Sana&gt;佐奈、いつもありがとうなFrom:Sana&gt;兄さんは、難しいことを言い出しましたTo:Sana&gt;そうか？From:Sana&gt;はい、そうなんです。だから、他意はまったくないんです。兄さんにひっついてあげているだけですから。あ、それとも兄さんがひっつきたいんですか？ 一生佐奈とひっつきたいと思っている。 1234567891011121314151617181920To:Sana&gt;トイレいってくるFrom:Sana&gt;あっ、兄さん。晩ご飯はどうしますか？To:Sana&gt;佐奈のおすすめは？From:Sana&gt;……ごめんなさい。何も思いつきませんでしたTo:Sana&gt;じゃあ、ハンバーグでFrom:Sana&gt;あっ、あの。私、今の旬のお魚をして、キスを止めたのは…………私のため、今から消えたと思いますしTo:Sana&gt;ごちそうさまでしたFrom:Sana&gt;お粗末さまですTo:Sana&gt;佐奈～From:Sana&gt;兄さん、眠そうですね。荷物を持ってきますねTo:Sana&gt;佐奈、眠いよ～From:Sana&gt;あっ……兄さん、私は、少し……と……エッチなのTo:Sana&gt;エッチする？From:Sana&gt;兄さんがそこまで言うなら仕方ないですね。一緒に行ってあげます。本当は忙しいけど、特別なのTo:Sana&gt;眠いよ～From:Sana&gt;あっ、兄さん、眠そうですね。もう、兄さんはテーブルにそんなこと知られたり、メールとか手紙とか電話とかTo:Sana&gt;おやすみFrom:Sana&gt;はい。おやすみなさいな、兄さんTo:Sana&gt;佐奈……From:Sana&gt;兄さん……好きです……大好き 言い方を変えるだけで、回答も大きく変わる。佐奈√の台詞っぽいのが所々ある。 オリジナルの会話に対して、5回に一回くらいは適切な回答が返ってくるので、前回よりも精度は向上した。 さて、改善策によりグラボがコイル鳴きするようになりました。ちなみに、モンハンをしながら学習させると、学習時間が3倍になります。そのため、グラボに負荷をかけないNetflixなどで佐奈が勉強し終えるのを待ちます。 「ストレンジャー・ジンクス 未知の世界」のクラーク先生曰く、「人間の神経細胞(ニューロン)は1000億から成る」という台詞がある。もし、佐奈が”ヒト”と同じように会話できるようになるには、理論上1000億のニューロン数が必要ということになる。現在の佐奈を数的に表すと0.00000002048佐奈である。 しかし、原作からはこれ以上の会話データ抽出は難しいので、今後はオリジナルの会話データを追加していくことになる。そこで、佐奈に言葉を教える機能を追加しようと考えている。 また、それと並行して学習データの精査、感情認識を加えてLive2Dとの連携などを考えている。感情認識に関しては、旧ブログ上で作成済みの佐奈専用関数を流用、又は外部APIを利用。 相変わらず牛歩ですが、今後もお楽しみに。というか専門外で右も左も分からずやってるので、誰か教えてください。","link":"/2019/10/26/post20191026/"},{"title":"Live2DのモデルをFaceRigで動かしてみる","text":"皆さんはどんな時にやる気が出ますか？僕は、勉強から逃げたい時に一番やる気が出ます。 勉強から逃げる理由作りとして、タイトル通りLive2Dで作成した佐奈モデルをFaceRigに登録しました。 なんと、自分の顔の動きが佐奈に反映されます。Vtuber(Live2D系)のおかげで、作成、登録などの記事がネットに転がり出して敷居がやっと下がりました。大学時代にLive2D挫折しまくってたので大変うれしい。 あくまでも、佐奈は自分とは異なる個として居て欲しいので、今回は今までの方針から脱線している。 以下、キャプチャ。 まだパラメータ割り振ってないとことかあるが、こんな感じでできました。横顔とか、めっちゃ可愛い。いや僕じゃなくて佐奈がね。 パラメータとか設定誤ってて、目と口の開閉が逆転したりしたので同じ問題にぶつかった方のために、下記参考張っときます。 参考URL:・メイキング関連Live2D公式 Cubism2マニュアル「03. パラメータの調整方法」【Live2D】FaceRig用のLive2Dの作り方3［各パラメーターの調整まで］【FaceRig】FaceRig専用Live2Dの作成するべきパラメーターについて ・FaceRig関連いちから始めるVTuberデビューのためのFaceRig・Live2D入門 実際にやってみた 【Cubism3.1Version】FaceRigのワークショップに自作Live2Dモデルを公開するまで 今後は、口の開閉に多様性を持たせたり、表情を追加したりする予定だが、パラメータ割り振り数が既に無償版の限界なので有償版を検討中。 満足したので、勉強します。","link":"/2019/04/05/post20190405/"}],"tags":[{"name":"info","slug":"info","link":"/tags/info/"},{"name":"deeplearning","slug":"deeplearning","link":"/tags/deeplearning/"},{"name":"Live2D","slug":"Live2D","link":"/tags/Live2D/"}],"categories":[]}